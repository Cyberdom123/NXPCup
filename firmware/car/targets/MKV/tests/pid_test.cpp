#include <algorithm.hpp>
#include <gtest/gtest.h>

static uint16_t right_side_far[128] = {
    1246, 1246, 1330, 1408, 1472, 1562, 1650, 1744, 1866, 1992, 2274, 2768, 3362, 4714, 6612, 8948,
    11488, 13562, 15828, 18458, 20548, 22514, 24268, 25604, 27150, 27952, 29602, 29844, 30486, 31072,
    31070, 31070, 31070, 31068, 31068, 31074, 31072, 31066, 31066, 31066, 31068, 31064, 31068, 31070,
    31070, 31068, 31072, 31066, 31070, 31066, 31076, 31080, 31082, 31074, 31070, 31082, 31078, 31068,
    31078, 31068, 31076, 31070, 31076, 31070, 31070, 31076, 31068, 31078, 31070, 31078, 31076, 31078,
    31074, 31070, 31068, 31078, 31078, 31070, 31080, 31048, 30890, 28722, 26972, 24068, 22434, 20624,
    19548, 18386, 17538, 17096, 17044, 17752, 19036, 19814, 20474, 20376, 19842, 19860, 19322, 18540,
    17834, 17284, 15978, 15000, 13900, 12824, 11832, 10384, 9352, 8128, 6742, 5492, 4284, 3282, 2754,
    2450, 2162, 2036, 1932, 1826, 1714, 1634, 1554, 1472, 1418, 1356, 1306, 1284
};

TEST(PIDTest, RightSideFar) {
  Algorithm algorithm;

    int32_t output = algorithm.proc(right_side_far);
    for (auto i = 0; i < 4; i++) {
        output = algorithm.proc(right_side_far);
        std::cerr << "Output: " << output << std::endl;
    }

    EXPECT_LE(algorithm.proc(right_side_far), output);
}